site_name: Data Platform Documentation
site_description: Nubank's Data platform documentation
site_author: Squad Observability
site_url:
repo_url: https://github.com/nubank/data-platform-docs/
edit_uri: edit/master/
theme:
  name: 'material'
  custom_dir: 'overrides'
  favicon: assets/nubank-favicon.ico
  logo: assets/nubank-logo.svg
  features:
    - tabs
  palette:
    primary: 'deep-purple'
    accent: 'deep-purple'

markdown_extensions:
  - admonition
  - sane_lists
  - pymdownx.emoji:
      emoji_generator: !!python/name:pymdownx.emoji.to_svg
  - pymdownx.magiclink
  - pymdownx.details
  - pymdownx.critic
  - pymdownx.mark
  - plantuml_markdown
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_div_format
  - toc:
      permalink: "#"

extra_css:
  - stylesheets/extra.css

extra_javascript:
  - https://unpkg.com/mermaid@8.4/dist/mermaid.min.js
  - js/docs.js
  - js/search.js
  - js/elasticsearch.js
  - js/mark-as-outdated.js

plugins:
  - mkdocs-jupyter
  - git-revision-date-localized
  - minify
nav:
  - Home: "README.md"
  - What's new: "whats-new.md"
  - About squads: "about/data-bu-squads.md"
  - Data Infra overview: "about/data-infra/overview.md"
  - Data Infra history: "about/data-infra/history.md"
  - Data Infra anguages and stacks: "about/data-infra/services-language-stacks.md"
  - Glossary: "glossary.md"
  - Infrastructure:
    - Data Infra:
      - Bumping Spark: "infrastructure/data-infra/bumping-spark.md"
      - Run-time environment guide: "infrastructure/data-infra/guide-to-the-runtime-environment.md"
      - Inventory: "infrastructure/data-infra/inventory.md"
      - Multi-country: "infrastructure/data-infra/new-country.md"
      - Multi-country setup: "infrastructure/data-infra/multi_country_setup.md"
      - Query engines: "infrastructure/data-infra/query_engines.md"
      - Serving layer: "infrastructure/data-infra/serving_layer.md"
      - Testing models: "infrastructure/data-infra/testing-models.md"
      - Test custom images with ECR: "infrastructure/data-infra/test-images.md"
    - Data Access:
      - Setup a new country in Looker : "tools/looker/looker-country-setup.md"
  - Data users:
    - Dataset series:
      - Dataset series on ETL: "data-users/etl_users/dss-on-etl.md"
      - Event DSS: "data-users/etl_users/dataset_series.md"
      - Archives: "data-users/etl_users/ingestion/archives.md"
      - Archive DSS: "data-users/etl_users/archived_datasets.md"
      - Manual DSS: "data-users/etl_users/manual_dataset_series.md"
      - Integrity exceptions: "data-users/etl_users/integrity_exceptions.md"
      - optimizing your SparkOp: "data-users/etl_users/optimizing_your_sparkop.md"
      - Schema validations: "data-users/etl_users/schema_validations.md"
      - Serving of datasets in staging environment: "data-users/etl_users/serving/serving_to_staging.md"
    - Streaming contracts:
      - Streaming contracts overview: data-users/streaming-contracts/streaming-contracts-intro.md
      - View batch and streaming contracts in BigQuery: data-users/streaming-contracts/views-bigquery.md
      - How fresh data is processed and transformed: data-users/streaming-contracts/data-freshness.md
    - Debugging load issues: squad/data-access/debugging-load-issues.md
    - FAQs: "data-users/etl_users/FAQ.md"
  - Oncall:
    - Data Infra:
      - Overview: "on-call/data-infra/README.md"
      - How to get help from other Squads: "on-call/data-infra/getting_help_from_other_squads.md"
      - Hausmeister: "on-call/data-infra/hausmeister.md"
      - Incident response checklist: "on-call/data-infra/incident_response_checklist.md"
      - Monitoring nightly run: "on-call/data-infra/monitoring_nightly_run.md"
      - On-call runbook: "on-call/data-infra/on_call_runbook.md"
      - Operations How-tos: "on-call/data-infra/ops_how_to.md"
      - CLI examples: "on-call/data-infra/tools/cli_examples.md"
      - On-call engineer tools: "on-call/data-infra/tools/on-call-engineer-tool.md"
      - Dashboards: "on-call/data-infra/dashboards.md"
      - PII monitoring alert playbooks: "on-call/data-infra/pii_monitoring_alert_playbook.md"
    - Data access:
      - Rotations: "on-call/data-access/data-access-rotations.md"
      - Support: "on-call/data-access/data-support.md"
      - Itaipu PR reviewer: "on-call/data-access/itaipu-pr-reviewer.md"
      - On-call engineer: "on-call/data-access/on-call-engineer.md"
  - Services:
    - Data layers: "services/data-ingestion/intro.md"
    - Data-ingestion:
      - Correnteza: "services/data-ingestion/correnteza.md"
      - Curva-de-rio: "services/data-ingestion/curva-de-rio.md"
      - Alph: "services/data-ingestion/alph.md"
    - Data processing:
      - Itaipu:
        - Overview: "services/data-processing/itaipu/itaipu.md"
        - Itaipu setup: "services/data-processing/itaipu/project_dev_setup.md"
        - Mergulho: "services/data-processing/itaipu/mergulho.md"
        - Dratini POC: "experiments/dratini.md"
      - Metapod: "services/data-processing/metapod.md"
    - Data serving: "services/data-serving/serving-layer.md"
    - Data analysis and monitoring: "services/data-analysis-monitoring/analysis-monitoring.md"
  - How-tos:
    - Itaipu:
      - Itaipu setup: "services/data-processing/itaipu/project_dev_setup.md"
      - Creating basic dataset: "how-tos/itaipu/create_basic_dataset.md"
      - Contracts: "how-tos/itaipu/contracts.md"
      - Contracts migration from V0 to V1: "how-tos/itaipu/contracts_migration_v0_to_v1.md"
      - Dataset series compaction: "how-tos/itaipu/dataset_series_compaction.md"
      - Datomic raw caches: "how-tos/itaipu/datomic-raw-cache.md"
      - Deploying new DAG: "how-tos/itaipu/deploying_new_dag.md"
      - Flow of Itaipu run: "how-tos/itaipu/flow_of_control.md"
      - Reviewing and merging a PR: "how-tos/itaipu/itaipu_reviewer.md"
      - Updating the log cache: "how-tos/itaipu/log_cache_update.md"
      - Opening PRs: "how-tos/itaipu/opening_prs.md"
      - PII and Personal data: "how-tos/itaipu/pii_and_personal_data.md"
      - Pororoca: "how-tos/itaipu/pororoca.md"
      - Retry logic in Itaipu: "how-tos/itaipu/retries.md"
      - Style guide: "how-tos/itaipu/styleguide.md"
      - Itaipu workflows: "how-tos/itaipu/workflow.md"
      - Performance: "how-tos/itaipu/performance/README.md"
      - Scala style guide: "style_guide.md"
      - Tekton: "how-tos/itaipu/tekton/README.md"
    - Metapod: "how-tos/metapod.md"
    - Data deletion:
      - Datomic data deletion: "how-tos/data-deletion/setup-datomic-pii-data-deletion.md"
    - Dimensional modelling:
      - Iglu: "data-analytics/dimensional_modeling/iglu.md"
      - Kimball: "data-analytics/dimensional_modeling/kimball.md"
      - Contributing margin dataset: "data-analytics/dimensional_modeling/contribution_margin.md"
  - Onboarding:
    - Data Infra:
      - Dataset exercise: "onboarding/data-infra/dataset-exercise.md"
      - Introduction: "onboarding/data-infra/introduction.md"
      - Reading: "onboarding/data-infra/reading.md"
      - Setup: "onboarding/data-infra/setup.md"
      - Onboarding exercise: "onboarding/data-infra/service-exercise.md"
  - Tools:
    - Airflow: "tools/airflow.md"
    - Graphql: "tools/graphql_clients.md"
    - Databricks:
      - Overview: "tools/databricks/README.md"
      - API: "tools/databricks/api.md"
      - Libraries: "tools/databricks/libraries.md"
      - Setup NAT gateways for IP Filtering on Databricks: tools/databricks/ipfiltering.md
      - Bumping libraries: "tools/databricks/library_bump.md"
      - Databricks playbook: "tools/databricks/playbook.md"
      - S3 inventory: "tools/databricks/s3_inventory.md"
      - Single user clusters: "tools/databricks/single_user_clusters/README.md"
      - I AM roles in Databricks: "tools/databricks/single_user_clusters/meta-roles.md"
      - Single user clusters runbook: "tools/databricks/single_user_clusters/runbook.md"
      - Single user clusters automation workflow: "tools/databricks/single_user_clusters/automation_workflow.md"
      - Overloaded cluster: "tools/databricks/overloaded-cluster.md"
      - Ip access list: "tools/databricks/ip_access_list.md"
      - S3 cross account access: "tools/databricks/s3_cross_account_access.md"
    - Looker:
      - Overview: "tools/looker/README.md"
      - Looker Common Tasks: "tools/looker/looker-common-tasks.md"
      - Looker Policies: "tools/looker/looker-policies.md"
      - Looker Support: "tools/looker/looker-support.md"
      - LookML Basics: "tools/looker/lookml-basics.md"
      - Looker New Country Setup: "tools/looker/looker-country-setup.md"
  - Troubleshooting:
    - Dataset series compaction: "troubleshooting/dataset_series_compaction.md"
  - Writing:
    - Writing runbooks: "writing/writing_runbooks.md"
    - Templates:
      - Alerts playbook: "writing/templates/alerts-playbook.md"
      - Getting started: "writing/templates/getting-started.md"
      - Services README: "writing/templates/service-playbook.md"
